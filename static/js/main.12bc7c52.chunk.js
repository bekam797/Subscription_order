(this.webpackJsonpnew_project=this.webpackJsonpnew_project||[]).push([[0],{118:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),i=a.n(c),l=(a(85),a(46)),o=a(10),s=a(51),u=a.n(s),m=a(64),d=a(19),j=a(151),b=a(158),p=a(170),x=a(161),h=a(165),f=a(160),g=a(159),O=a(162),v=a(52),y=a.n(v),N=a(154),C=a(166),S=a(163),T=a(168),B=a(3),k=Object(j.a)((function(e){return{formControl:{minWidth:137,backgroundColor:"transparent",border:"1px solid #D1D1D6",borderRadius:"4px",borderRight:"1px solid #E8E8EA"},currImg:{width:32,height:32},text:{paddingRight:"5px",fontSize:"16px"},menuItem:{margin:0},select:{marginTop:"0 !important","&:before":{borderBottom:"none"},"&:after":{borderBottom:"none"},"&:hover:not(.Mui-disabled):not(.Mui-focused):not(.Mui-error):before":{borderBottom:"none"},"& .MuiSelect-select:focus":{backgroundColor:"transparent"},"& .MuiSelect-select.MuiSelect-select.MuiSelect-select":{padding:"16px 20px"}},input:{textAlign:"left"}}})),F=function(e){var t=e.data,a=void 0===t?[]:t,r=e.style,c=e.selectStyle,i=e.defaultValue,l=e.handleSelectChange,s=e.name,u=void 0===s?"":s,m=k(),j=Object(n.useState)(!1),b=Object(d.a)(j,2),p=b[0],x=b[1];return Object(B.jsxs)(N.a,{style:Object(o.a)({},r),className:m.formControl,children:[Object(B.jsx)(C.a,{htmlFor:"open-select"}),Object(B.jsx)(S.a,{name:u,value:i[u],open:p,onClose:function(){x(!1)},onOpen:function(){x(!0)},onChange:l,className:m.select,style:Object(o.a)({},c),inputProps:{className:m.input},children:null===a||void 0===a?void 0:a.map((function(e,t){return Object(B.jsx)(T.a,{value:e.value,className:m.menuItem,children:Object(B.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(B.jsx)(g.a,{className:m.text,children:e.value}),Object(B.jsx)(g.a,{className:m.text,children:e.name})]})},t)}))})]})},P=Object(j.a)((function(e){return{root:{width:"90%",margin:"auto"},container:{display:"flex",flexDirection:"column",marginBottom:"50px"},titles:{marginTop:"5px",marginBottom:"10px"},summary:{display:"flex",justifyContent:"flex-end",marginBottom:"20px"},amount:{fontWeight:"900",marginLeft:"10px"}}})),D=function(e){var t=e.data,a=void 0===t?[]:t,n=e.handleSelectChange,r=e.defaultValue,c=e.calculateTotalPrice,i=P();return Object(B.jsxs)(f.a,{className:i.root,children:[Object(B.jsxs)(f.a,{className:i.container,children:[Object(B.jsx)(g.a,{className:i.titles,children:"Duration"}),Object(B.jsx)(F,{name:Object.keys(r)[0],data:null===a||void 0===a?void 0:a.duration,handleSelectChange:n,defaultValue:r}),Object(B.jsx)(g.a,{className:i.titles,children:"Gigabytes"}),Object(B.jsx)(F,{name:Object.keys(r)[1],data:null===a||void 0===a?void 0:a.gigabytes,handleSelectChange:n,defaultValue:r}),Object(B.jsx)(g.a,{className:i.titles,children:"Upfront Payment"}),Object(B.jsx)(F,{name:Object.keys(r)[2],data:null===a||void 0===a?void 0:a.upfront,handleSelectChange:n,defaultValue:r})]}),Object(B.jsxs)(g.a,{className:i.summary,children:["Total Price: ",Object(B.jsx)("span",{className:i.amount,children:"".concat(c," $")})]})]})},M=a(70),V=a(169),w=(a(113),Object(j.a)((function(e){return{formControl:{display:"flex",width:"50%",margin:"auto"},textFields:{margin:"7px 0"},summaryContainer:{marginTop:"10px"},summary:{display:"flex",fontSize:"16px",marginTop:"8px",fontWeight:"600"},price:{display:"flex",fontSize:"20px",fontWeight:"700",marginTop:"16px",marginBottom:"12px"},amount:{fontWeight:"700",marginLeft:"10px"}}}))),E=function(e){var t=e.cardData,a=e.setCardData,r=e.calculateTotalPrice,c=e.defaultValue,i=e.errors,l=w(),s=Object(n.useState)(""),u=Object(d.a)(s,2),m=u[0],j=u[1];Object(n.useEffect)((function(){var e;null===(e=b.current)||void 0===e||e.focus()}),[]);var b=Object(n.useRef)(null);return Object(B.jsxs)("div",{children:[Object(B.jsx)(M.a,{number:t.number,name:t.name,expiry:t.expiry,cvc:t.cvc,focused:m}),Object(B.jsxs)(N.a,{className:l.formControl,children:[Object(B.jsx)(V.a,{onFocus:function(e){return j(e.target.name)},className:l.textFields,value:t.number,onChange:function(e){var n=e.target.value.replace(/[^0-9]/g,"");n.length<=16&&a(Object(o.a)(Object(o.a)({},t),{},{number:n}))},name:"number",label:"Card Number",placeholder:"Card Number",variant:"outlined",helperText:(null===i||void 0===i?void 0:i.number)?i.number:"",error:(null===i||void 0===i?void 0:i.number)&&Boolean(i.number),autoFocus:!0}),Object(B.jsx)(V.a,{name:"name",label:"Name",placeholder:"Name",multiline:!0,className:l.textFields,value:t.name,onChange:function(e){return a(Object(o.a)(Object(o.a)({},t),{},{name:e.target.value}))},onFocus:function(e){return j(e.target.name)},helperText:(null===i||void 0===i?void 0:i.name)?i.name:"",error:(null===i||void 0===i?void 0:i.name)&&Boolean(i.name),required:!0,variant:"outlined"}),Object(B.jsx)(V.a,{name:"expiry",value:t.expiry,className:l.textFields,onChange:function(e){var n=e.target.value.replace(/[^0-9]/g,"");n.length<=4&&a(Object(o.a)(Object(o.a)({},t),{},{expiry:n}))},label:"MM/YY",placeholder:"MM/YY",onFocus:function(e){return j(e.target.name)},helperText:(null===i||void 0===i?void 0:i.expiry)?i.expiry:"",error:(null===i||void 0===i?void 0:i.expiry)&&Boolean(i.expiry),variant:"outlined"}),Object(B.jsx)(V.a,{className:l.textFields,onFocus:function(e){return j(e.target.name)},value:t.cvc,onChange:function(e){var n=e.target.value.replace(/[^0-9]/g,"");n.length<=3&&a(Object(o.a)(Object(o.a)({},t),{},{cvc:n}))},helperText:(null===i||void 0===i?void 0:i.cvc)?i.cvc:"",error:(null===i||void 0===i?void 0:i.cvc)&&Boolean(i.cvc),name:"cvc",label:"CVC",placeholder:"CVC",required:!0,variant:"outlined"}),Object(B.jsxs)(f.a,{className:l.summaryContainer,children:[Object(B.jsxs)(g.a,{className:l.summary,children:["Duration: ",Object(B.jsx)("span",{className:l.amount,children:"".concat(c.duration," Months")})]}),Object(B.jsxs)(g.a,{className:l.summary,children:["Gigabytes: ",Object(B.jsx)("span",{className:l.amount,children:"".concat(c.gigabytes," GB")})]}),Object(B.jsxs)(g.a,{className:l.summary,children:["Upfront Paymant: ",Object(B.jsx)("span",{className:l.amount,children:"yes"===c.upfront?"".concat(c.upfront," (-10 %)"):c.upfront})]}),Object(B.jsxs)(g.a,{className:l.price,children:["Total Price: ",Object(B.jsx)("span",{className:l.amount,children:"".concat(r," $")})]})]})]})]})},G=a(164),R=Object(j.a)((function(e){return{root:{margin:"auto",width:"85%",marginTop:"40px"},emailText:{margin:"auto",paddingBottom:"10px"},summary:{display:"flex",fontSize:"16px",marginTop:"8px",fontWeight:"600"},price:{display:"flex",fontSize:"20px",fontWeight:"700",marginTop:"16px",marginBottom:"12px"},amount:{fontWeight:"700",marginLeft:"10px"},textField:{maxWidth:"350px",width:"100%",marginBottom:"10px"},termsContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",marginRight:"50px"},summaryContainer:{marginTop:"10px"}}})),W=function(e){var t=e.calculateTotalPrice,a=e.defaultValue,n=e.setConfirmData,r=e.checked,c=e.errors,i=R();return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(f.a,{className:i.root,children:[Object(B.jsxs)(f.a,{children:[Object(B.jsx)(g.a,{className:i.emailText,children:"Enter Email *"}),Object(B.jsx)(V.a,{className:i.textField,type:"email",name:"email",label:"Email",onChange:function(e){return n((function(t){return Object(o.a)(Object(o.a)({},t),{},{email:e.target.value})}))},helperText:(null===c||void 0===c?void 0:c.email)?c.email:"",error:(null===c||void 0===c?void 0:c.email)&&Boolean(c.email),required:!0,variant:"outlined"})]}),Object(B.jsx)(f.a,{children:Object(B.jsxs)(f.a,{className:i.summaryContainer,children:[Object(B.jsxs)(g.a,{className:i.summary,children:["Duration: ",Object(B.jsx)("span",{className:i.amount,children:"".concat(a.duration," Months")})]}),Object(B.jsxs)(g.a,{className:i.summary,children:["Gigabytes: ",Object(B.jsx)("span",{className:i.amount,children:"".concat(a.gigabytes," GB")})]}),Object(B.jsxs)(g.a,{className:i.summary,children:["Upfront Paymant: ",Object(B.jsx)("span",{className:i.amount,children:"yes"===a.upfront?"".concat(a.upfront," (-10 %)"):a.upfront})]}),Object(B.jsxs)(g.a,{className:i.price,children:["Total Price: ",Object(B.jsx)("span",{className:i.amount,children:"".concat(t," $")})]})]})})]}),Object(B.jsxs)(f.a,{className:i.termsContainer,children:[Object(B.jsx)(G.a,{checked:r,onChange:function(e){return n((function(t){return Object(o.a)(Object(o.a)({},t),{},{checked:e.target.checked})}))},color:"primary",inputProps:{"aria-label":"secondary checkbox"}}),Object(B.jsx)(g.a,{children:"Terms and conditions *"})]})]})},I=a(71),_=a.n(I),q=Object(j.a)((function(e){return{root:{width:"50%",marginTop:"20px",margin:"auto",padding:"20px"},backButton:{marginRight:e.spacing(2)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},buttonContainer:{display:"flex",justifyContent:"flex-end",width:"90%",margin:"auto"},done:{display:"flex",flexDirection:"column",alignItems:"center"},complated:{fontSize:"24px",fontWeight:"bold",color:"green"}}})),z=["Select subscription parameters","Payment data","Confirmation"],A=function(){var e=q(),t=Object(n.useState)(0),a=Object(d.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)({}),s=Object(d.a)(i,2),j=s[0],v=s[1],N=Object(n.useState)({duration:12,gigabytes:5,upfront:"no"}),C=Object(d.a)(N,2),S=C[0],T=C[1],k=Object(n.useState)({number:"",name:"",expiry:"",cvc:""}),F=Object(d.a)(k,2),P=F[0],M=F[1],V=Object(n.useState)({}),w=Object(d.a)(V,2),G=w[0],R=w[1],I=Object(n.useState)({email:"",checked:!1}),A=Object(d.a)(I,2),L=A[0],U=A[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://cloud-storage-prices-moberries.herokuapp.com/prices");case 2:t=e.sent,a=[],t.data.subscription_plans.map((function(e){return a.push({value:e.duration_months,name:" Months",priceUsdPerGb:e.price_usd_per_gb})})),v({duration:a,gigabytes:[{value:5,name:"GB"},{value:10,name:"GB"},{value:50,name:"GB"}],upfront:[{value:"no"},{value:"yes"}]});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var Y=function(e){var t=e.target,a=t.name,n=t.value;T((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},a,n))}))},$=function(){var e,t=null===j||void 0===j||null===(e=j.duration)||void 0===e?void 0:e.find((function(e){return e.value===S.duration}));if(t&&t.priceUsdPerGb){var a=t.priceUsdPerGb*S.gigabytes;return"yes"===S.upfront?a-10*a/100:a}};return Object(B.jsxs)(b.a,{className:e.root,children:[Object(B.jsx)(p.a,{activeStep:r,alternativeLabel:!0,children:z.map((function(e){return Object(B.jsx)(x.a,{children:Object(B.jsx)(h.a,{children:e})},e)}))}),Object(B.jsx)("div",{children:r===z.length?Object(B.jsxs)(f.a,{className:e.done,children:[Object(B.jsx)(_.a,{style:{color:"green",fontSize:"40px"}}),Object(B.jsx)(g.a,{className:e.complated,children:"All steps completed"})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(f.a,{className:e.instructions,children:function(e){switch(e){case 0:return Object(B.jsx)(D,{data:j,handleSelectChange:Y,defaultValue:S,calculateTotalPrice:$()});case 1:return Object(B.jsx)(E,{calculateTotalPrice:$(),defaultValue:S,cardData:P,setCardData:M,errors:G});case 2:return Object(B.jsx)(W,{calculateTotalPrice:$(),defaultValue:S,setConfirmData:U,checked:L.checked,errors:G});default:return}}(r)}),Object(B.jsxs)("div",{className:e.buttonContainer,children:[Object(B.jsx)(O.a,{disabled:0===r,onClick:function(){c((function(e){return e-1}))},className:e.backButton,children:"Back"}),Object(B.jsx)(O.a,{variant:"contained",color:"primary",onClick:2===r?function(e){e.preventDefault();var t=RegExp(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i);if(t.test(L.email)||R((function(e){return Object(o.a)(Object(o.a)({},e),{},{email:"Not Valid Email"})})),t.test(L.email)){var a={parameters:S,paymantData:P,comfirmation:L};try{y.a.post("https://httpbin.org/post",a)}catch(n){console.log(n)}R((function(e){return Object(o.a)(Object(o.a)({},e),{},{email:""})})),c((function(e){return e+1}))}else R((function(e){return Object(o.a)(Object(o.a)({},e),{},{email:"Not Valid Email"})}))}:function(){var e={};return 1===r&&((0===P.number.trim().length||P.number.trim().length<16)&&(e.number="Card number is Requiered Field"),0===P.name.trim().length&&(e.name="Name is Requiered Field"),(0===P.expiry.trim().length||P.expiry.trim().length<4)&&(e.expiry="Expiry is Requiered Field"),(0===P.cvc.trim().length||P.cvc.trim().length<3)&&(e.cvc="CVC is Requiered Field")),Object.keys(e).length>0?R(e):(R(""),c((function(e){return e+1})))},children:r===z.length-1?"Confirm":"Next"})]})]})})]})},L=function(){return Object(B.jsx)("div",{className:"App",children:Object(B.jsx)(A,{})})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,171)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(B.jsx)(r.a.StrictMode,{children:Object(B.jsx)(L,{})}),document.getElementById("root")),U()},85:function(e,t,a){}},[[118,1,2]]]);
//# sourceMappingURL=main.12bc7c52.chunk.js.map